apiVersion: v1
kind: ConfigMap
metadata:
  name: chatwork-lark-config
  namespace: chatwork-lark
  labels:
    app: chatwork-lark-bridge
data:
  # Application settings
  log_level: "INFO"
  redis_url: "redis://redis-service:6379/0"

  # Loop detection
  enable_loop_detection: "true"
  message_prefix_chatwork: "[From Chatwork]"
  message_prefix_lark: "[From Lark]"

  # Retry settings
  max_retry_attempts: "3"
  initial_retry_delay: "1.0"
  max_retry_delay: "60.0"

  # Message settings
  max_message_length: "4000"

---
apiVersion: v1
kind: ConfigMap
metadata:
  name: chatwork-lark-mappings
  namespace: chatwork-lark
  labels:
    app: chatwork-lark-bridge
data:
  # Room mappings (example - replace with actual values)
  room_mappings.json: |
    {
      "mappings": [
        {
          "chatwork_room_id": "12345678",
          "lark_chat_id": "oc_a1b2c3d4e5f6",
          "name": "General Discussion",
          "is_active": true,
          "sync_direction": "both"
        }
      ]
    }

  # User mappings (example - replace with actual values)
  user_mappings.json: |
    {
      "mappings": [
        {
          "chatwork_user_id": "111",
          "lark_user_id": "ou_test123",
          "display_name": "Test User",
          "is_active": true
        }
      ]
    }
